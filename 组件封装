### LineNumTextarea

总体思路：

1. ul>li 展示行号，监听 onChange. 在 onChange 中统计行数，然后更新行号。
2. 监听 onScroll, 修改样式的 transform 属性，通过滚动容器的 scrollTop 计算 translateY 的值，实现同步滚动。优化一：requestAnimationFrame 来实现节流。
3. 遇到的问题：  
   使用 ref 控制 textarea 输入内容，没有触发 onChange 事件。(场景：在 Form 表单中，Form 管理各个控件的状态，并不能直接控制到 textarea 的)
   解决方案：useImperative + forwardRef 暴露一个方法，让外部手动设置行高。

### KeepAlive 的实现原理

### 私有/权限路由：access-router

#### 核心思路：

##### 基础功能：

**组件 & hooks**  
基于 react-router-dom v6, 提供了两个组件 AccessGuard, Access 组件。  
1.AccessGuard 组件： 本来是通过 createHashRouter 创建 router，现在通过 AccessGuard 创建 router。并且接受预先定义：

- 认证函数（async）；
- 权限获取函数（async）；
- 权限定义函数（权限获取函数的结果作为入参， 产生一个权限表(对象形式) ）；

功能： 根据权限获取接口，完成权限表的定义，只生成当前用户可访问的路由。（路由级别权限控制）

2.Access 组件：
功能：useAccess 获取权限表，Access 组件根据权限表的某个权限的可访问性，决定如何渲染。 （按钮级别的权限控制）
